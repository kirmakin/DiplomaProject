# [Дипломный проект](https://github.com/netology-code/qa-diploma) профессии «Тестировщик»
## Техническое задание
**Описание приложения** 

Приложение представляет из себя веб-сервис.
Приложение предлагает купить тур по определённой цене с помощью двух способов:
1. Обычная оплата по дебетовой карте  
2. Уникальная технология: выдача кредита по данным банковской карты

Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:  
- сервису платежей (далее - Payment Gate)
- кредитному сервису (далее - Credit Gate)

Приложение должно в собственной СУБД сохранять информацию о том, каким способом был совершён платёж и успешно ли он был совершён.

Заявлена поддержка двух СУБД:  
- MySQL
- PostgreSQL  

**Задача**  

Автоматизировать сценарии (как позитивные, так и негативные) покупки тура.

**Необходимое окружение:**

- установленный Docker;
- убедитесь, что порты 8080, 9999 и 5432 или 3306 (в зависимости от выбранной базы данных) свободны;
## Инструкция по установке

1. Скачайте архив.
2. Запустите контейнер, в котором разворачивается база данных (БД) `docker-compose up -d --force-recreate`.
3. Убедитесь в том, что БД готова к работе (логи смотреть через `docker-compose logs -f <applicationName> (mysql или postgres)`.  
4. Запустите приложение командой :  
- для использования Postgres: `java -Dspring.datasource.url=jdbc:postgresql://localhost:5432/postgres -jar artifacts/aqa-shop.jar`
- для использования MySQL: `java -Dspring.datasource.url=jdbc:mysql://localhost:3306/app -jar artifacts/aqa-shop.jar`  
Приложение запускается на порту 8080;  
5. Запустите тесты командой:
- при работе с postgres: `./gradlew test -Ddb.url=jdbc:postgresql://localhost:5432/postgres -Dlogin=app -Dpassword=pass -Dapp.url=http://localhost:8080`  
- при работе с mySql: `./gradlew test -Ddb.url=jdbc:mysql://localhost:3306/app -Dlogin=app -Dpassword=pass -Dapp.url=http://localhost:8080` ( app_url = http://localhost:8080 по умолчанию ).
